(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(55),r=n.n(i),s=(n(66),n(9)),c=n(10),o=n(12),u=n(8),h=n(13),m=n(41),d=n.n(m),g=n(56),E=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("td",null,this.props.name),l.a.createElement("td",null,this.props.description),l.a.createElement("td",null,this.props.visited),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.props.editList(e.props._id)}},"Edit")),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.props.editWishList(e.props._id)}},"View")),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.props.deleteWishList(e.props._id)}},"Delete")))}}]),t}(a.Component),p=n(2),b=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,a=e.target.value,l=Object(p.a)({},n.state.newWishList);l[t]=a,n.setState({newWishList:l})},n.handleSubmit=function(e){e.preventDefault(),n.props.addWishList(n.state.newWishList)},n.state={newWishList:{}},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.state.newWishList),l.a.createElement("div",null,l.a.createElement("h1",null,"Create a WishList"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",null,l.a.createElement("label",null,"Name"),l.a.createElement("input",{name:"name",type:"text",onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("label",null,"Description"),l.a.createElement("input",{name:"description",type:"text",onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("label",null,"Visited ?"),l.a.createElement("input",{name:"visited",type:"boolean",onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("input",{type:"submit",value:"Add Wish List!"}))))}}]),t}(a.Component),f=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,a=e.target.value,l=Object(p.a)({},n.state.newWishList);l[t]=a,n.setState({newWishList:l})},n.handleSubmit=function(e){e.preventDefault(),n.props.editWishList(n.state.newWishList)},n.state={newWishList:e.wishList},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.state.newWishList),l.a.createElement("div",null,l.a.createElement("h1",null,"Edit WishList"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",null,l.a.createElement("label",null,"Name"),l.a.createElement("input",{name:"name",type:"text",onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("label",null,"Description"),l.a.createElement("input",{name:"description",type:"text",onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("label",null,"Visited ?"),l.a.createElement("input",{name:"visited",type:"boolean",onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("input",{type:"submit",value:"Save Changes"}))))}}]),t}(a.Component),L=n(24),v=n.n(L),j=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).loadWishList=Object(g.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/wishList/index");case 2:t=e.sent,n.setState({wishLists:t.data});case 4:case"end":return e.stop()}},e)})),n.addWishList=function(e){v.a.post("wishList/add",e).then(function(e){console.log("WishList Added successfully!!!"),n.loadWishList()}).catch(function(e){console.log("Error Adding Wish List"),console.log(e)})},n.editList=function(e){v.a.get("wishList/edit?id=".concat(e)).then(function(e){console.log("Loaded WishList Information!!!"),console.log(e.data.wishList);var t=e.data.wishList;n.setState({isEdit:!0,currentWishList:t})}).catch(function(e){console.log("Error Loading Wish List Information"),console.log(e)})},n.editWishList=function(e){v.a.put("wishList/update",e).then(function(e){console.log("Wish List Updated"),console.log(e),n.loadWishList()}).catch(function(e){console.log("Error Updating Wish List"),console.log(e)})},n.deleteWishList=function(e){v.a.delete("wishList/delete?id=".concat(e)).then(function(e){console.log("Deleted Wish List"),n.loadWishList()}).catch(function(e){console.log("Error Deleting Wish List"),console.log(e)})},n.state={wishLists:[],isEdit:!1,currentWishList:""},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadWishList()}},{key:"render",value:function(){var e=this;console.log(this.state);var t=this.state.wishLists.map(function(t,n){return l.a.createElement("tr",{key:n},l.a.createElement(E,Object.assign({},t,{editList:e.editList,editWishList:e.editWishList,deleteWishList:e.deleteWishList})))});return l.a.createElement("div",null,l.a.createElement("h1",null,"Wish List"),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Description")),t))),l.a.createElement("div",null,this.state.isEdit?l.a.createElement(f,{key:this.state.currentWishList._id,wishList:this.state.currentWishList,editWishList:this.editWishList,editList:this.editList}):l.a.createElement(b,{addWishList:this.addWishList})))}}]),t}(a.Component),O=n(107),C=n(111),W=n(108),w=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={},n.changeHandler=function(e){var t=Object(p.a)({},n.state);t[e.target.name]=e.target.value,n.setState(t)},n.registerHandler=function(){n.props.register(n.state)},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.state),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h1",null,"Sign Up"),l.a.createElement("br",null),l.a.createElement(O.a,null,l.a.createElement(C.a.Group,null,l.a.createElement(C.a.Label,null,"First Name"),l.a.createElement(C.a.Control,{name:"firstName",onChange:this.changeHandler})),l.a.createElement(C.a.Group,null,l.a.createElement(C.a.Label,null,"Last Name"),l.a.createElement(C.a.Control,{name:"lastName",onChange:this.changeHandler})),l.a.createElement(C.a.Group,null,l.a.createElement(C.a.Label,null,"Email Address"),l.a.createElement(C.a.Control,{name:"emailAddress",onChange:this.changeHandler})),l.a.createElement(C.a.Group,null,l.a.createElement(C.a.Label,null,"Password"),l.a.createElement(C.a.Control,{name:"password",type:"password",onChange:this.changeHandler})),l.a.createElement(W.a,{varient:"primary",onClick:this.registerHandler},"Register")))}}]),t}(a.Component),y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={},n.changeHandler=function(e){var t=Object(p.a)({},n.state);t[e.target.name]=e.target.value,n.setState(t)},n.loginHandler=function(){n.props.login(n.state)},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.state),l.a.createElement("div",null,l.a.createElement("h1",null,"Sign In"),l.a.createElement(O.a,null,l.a.createElement(C.a.Group,null,l.a.createElement(C.a.Label,null,"Email Address"),l.a.createElement(C.a.Control,{name:"emailAddress",onChange:this.changeHandler})),l.a.createElement(C.a.Group,null,l.a.createElement(C.a.Label,null,"Password"),l.a.createElement(C.a.Control,{name:"password",type:"password",onChange:this.changeHandler})),l.a.createElement(W.a,{varient:"primary",onClick:this.loginHandler},"Login")))}}]),t}(a.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"Home")}}]),t}(a.Component),S=(n(100),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={},n.changeHandler=function(e){var t=Object(p.a)({},n.state);t[e.target.name]=e.target.value,n.setState(t)},n.logoutHandler=function(){n.props.Logout(n.state)},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"You are successfully logged out!")}}]),t}(a.Component)),H=n(109),A=n(110),D=n(25),I=n(6),x=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"Discover")}}]),t}(a.Component),F=n(42),N=(n(101),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={isAuth:!1,user:null,message:null},n.registerHandler=function(e){v.a.post("auth/signup",e).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},n.loginHandler=function(e){v.a.post("auth/signin",e).then(function(e){if(console.log(e.data.token),e.data.token){localStorage.setItem("token",e.data.token);var t=Object(F.a)(e.data.token);n.setState({isAuth:!0,user:t})}}).catch(function(e){console.log(e),n.setState({isAuth:!1})})},n.logoutHandler=function(e){e.preventDefault(),localStorage.removeItem("token"),n.setState({isAuth:!1,user:null})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");if(null!=e){var t=Object(F.a)(e);t?this.setState({isAuth:!0,user:t}):(localStorage.removeItem("token"),this.setState({isAuth:!1}))}}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(D.BrowserRouter,null,l.a.createElement("br",null),l.a.createElement(H.a,{bg:"light",variant:"light"},l.a.createElement(O.a,null,l.a.createElement(H.a.Brand,{href:"#home"},"Travish"),l.a.createElement(A.a,{className:"me-auto"},this.state.isAuth?l.a.createElement(l.a.Fragment,null,l.a.createElement(D.Link,{to:"/wishList"},"Wish List"),l.a.createElement(D.Link,{to:"/signout",onClick:this.logoutHandler},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement(D.Link,{to:"/home"},"Home"),l.a.createElement(D.Link,{to:"/discovery"},"Discovery"),l.a.createElement(D.Link,{to:"/signup"},"Signup"),l.a.createElement(D.Link,{to:"/signin"},"Signin"))))),l.a.createElement(I.g,null,l.a.createElement(I.e,{path:"/signup",element:l.a.createElement(w,{register:this.registerHandler})}),l.a.createElement(I.e,{path:"/signin",element:l.a.createElement(y,{login:this.loginHandler})}),l.a.createElement(I.e,{path:"/home",element:l.a.createElement(k,null)}),l.a.createElement(I.e,{path:"/discover",element:l.a.createElement(x,null)}),l.a.createElement(I.e,{path:"/wishList",element:l.a.createElement(j,null)}),l.a.createElement(I.e,{path:"/signout",element:l.a.createElement(S,{logout:this.logoutHandler})}))))}}]),t}(a.Component)),G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then(function(t){var n=t.getCLS,a=t.getFID,l=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),l(e),i(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(N,null)),G()},59:function(e,t,n){e.exports=n(105)},66:function(e,t,n){}},[[59,1,2]]]);
//# sourceMappingURL=main.7bbe7d0c.chunk.js.map